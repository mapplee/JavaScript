<!DOCTYPE html>
<html>
<head>
	<meta charset='utf-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0;'>
	<title>Tabletop</title>
</head>
<body>

   <div id="piechart_3d" style="width: 900px; height: 500px;"></div>


<script src='js/main.js'></script>
 <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

<script type='text/javascript'>

  var publicSpreadsheetUrl ='https://docs.google.com/spreadsheets/d/1fW3H5PK-kLNhb3MKGk4q8BiRNiz_vxitF0gaEN-m53A/edit#gid=0';
  function init() {
    Tabletop.init( { key: publicSpreadsheetUrl,
                     callback: showInfo,
                     simpleSheet: true,

                      } )
  }

  function showInfo(data, tabletop) {
    alert('Successfully processed!')
   // drawChart();
    
	google.charts.load("current", {packages:["corechart"]});
      google.charts.setOnLoadCallback(drawChart);

      var newarr=data.map(function(da){
      	//console.log(da.age);
      		return [da.Vertict,Number(da.Number)];
      });

      var arr=[
          ['Name', 'Age'],
          ['Work',     11],
          ['Eat',      2],
          ['Commute',  2],
          ['Watch TV', 2],
          ['Sleep',    7]
        ];
        newarr.unshift(["Name","Age"]);
        console.log(newarr);

      function drawChart() {
        var data = google.visualization.arrayToDataTable(newarr);

        var options = {
          title: 'Status',
          is3D: true,
        };

        var chart = new google.visualization.PieChart(document.getElementById('piechart_3d'));
        chart.draw(data, options);
      }


  }


  

  window.addEventListener('DOMContentLoaded', init);
</script>
</body>
</html>